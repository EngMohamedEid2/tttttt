import{I as C,a as e,D as B,i as g,y as V}from"./DtU04-4_.js";import{k as N,u as s,M as y,N as c,V as o,$ as d,J as $,X as R,a9 as x,L as D,R as F}from"./DzwC5H-t.js";const I={key:0,class:"filter-category"},L={class:"filter-title"},M=o("h2",null,"Filters",-1),S={href:"javascript:void(0)"},E={__name:"index",setup(T){let p=C(),t={category:[],tag:[],rating:[],price:[],attribute:[]},q=N(()=>(t.category=e().query.category?e().query.category.split(","):[],t.tag=e().query.tag?e().query.tag.split(","):[],t.rating=e().query.rating?e().query.rating.split(","):[],t.price=e().query.price?e().query.price.split(","):[],t.attribute=e().query.attribute?e().query.attribute.split(","):[],[...t==null?void 0:t.category,...t==null?void 0:t.tag,...t==null?void 0:t.rating.map(r=>r.startsWith("rating ")?r:`rating ${r}`),...t==null?void 0:t.price,...t==null?void 0:t.attribute]));function m(r){let i=e().query.category?e().query.category.split(","):[],u=e().query.attribute?e().query.attribute.split(","):[],a=e().query.price?e().query.price.split(","):[],l=e().query.rating?e().query.rating.split(","):[],n=e().query.tag?e().query.tag:"",h=e().query.layout?e().query.layout:"",f=e().query.sortBy?e().query.sortBy:"",k=e().query.field?e().query.field:"",v=e().query.page?e().query.page:"";i.includes(r)?i.splice(r,1):u.includes(r)?u.splice(r,1):a.includes(r)?a.splice(r,1):l.includes(r)?l.splice(r,1):n==r&&(n=""),g().push({path:e().path,query:{layout:h,sortBy:f,field:k,category:i.join(","),attribute:u.join(","),price:a.join(","),rating:l.join(","),tag:n,page:v}}),setTimeout(async()=>{p.initialCheckedValue()},1e3)}function _(){let r=e().query.layout?e().query.layout:"";g().push({path:e().path,query:{layout:r}}),setTimeout(async()=>{p.initialCheckedValue()},1e3)}return(r,i)=>{const u=V;return s(q).length>0?(y(),c("div",I,[o("div",L,[M,o("a",{href:"javascript:void(0)",onClick:i[0]||(i[0]=d(a=>_(),["prevent"]))},"Clear All")]),o("ul",null,[(y(!0),c($,null,R(s(q),a=>(y(),c("li",{key:a},[o("a",S,x(("transform"in r?r.transform:s(B))(a.replace("-"," "))),1),D(u,{name:"ri:close-line",onClick:d(l=>m(a),["prevent"])},null,8,["onClick"])]))),128))])])):F("",!0)}}};export{E as default};
