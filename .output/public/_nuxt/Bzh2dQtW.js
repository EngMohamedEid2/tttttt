import{A as p,h as l,B as n,G as d,t as i,v as w}from"./DtU04-4_.js";import{a as W}from"./DzwC5H-t.js";const I=p("wishlist-store",()=>{var o=W([]);const h=async({product:e})=>{JSON.parse(localStorage.getItem("usersAccount"))?(await l("wishlist",{baseURL:n,method:"post",headers:d(),key:"AddItemToWishlist",body:{product_id:e.id},onResponse({response:t,error:r}){r?i().$useToaster({msg:r.message,type:"error"}):i().$useToaster({msg:"Item Added To Wishlist"})}},"$SrYahboRrQ"),await a()):w("/auth/login")},a=async()=>{var t;let{data:e,error:s}=await l("wishlist",{baseURL:n,headers:d(),method:"get",key:"GetAllWishlistItemsInStore"},"$pnraPU9FFW");s.value||(o.value=((t=e.value)==null?void 0:t.data)||[])},m=async({product:e})=>{let{data:s,error:t}=await l(`wishlist/${e.id}`,{baseURL:n,headers:d(),method:"delete",key:`DeleteItemFromWishlist${e.id}`,onResponse({response:r,error:g}){g?i().$useToaster({msg:g.message,type:"error"}):i().$useToaster({msg:"Item Removed From Wishlist",type:"warning"})}},"$28HboPGowR");t.value||await a()},c=async()=>{await a()},u=({product:e})=>o.value.findIndex(s=>s.id==e.id)>-1;return{wishlist:o,AddToWishlist:h,GetWishlistItems:a,GetWishlist:c,RemoveFromWishlist:m,ExistsInCart:u,ToggleFromWishlist:async({product:e})=>{u({product:e})?m({product:e}):h({product:e})}}});export{I as u};
