import{E as tt,e as Z,i as et,J as ot,L as st,y as nt}from"./DtU04-4_.js";import ut from"./DQ9TjsWY.js";import ct from"./GifxIkZ0.js";import{I as it}from"./GGjNRw_E.js";import{u as at}from"./D_Lc5yow.js";import{u as rt}from"./Bzh2dQtW.js";import{a as v,k as dt,M as d,N as _,V as u,a9 as c,u as e,ac as h,R as k,L as i,a7 as f,Z as p}from"./DzwC5H-t.js";import"./D0hdogbq.js";const lt={class:"name"},mt={class:"price-rating"},pt={class:"theme-color price"},bt={key:0,class:"text-content"},kt={key:1,class:"offer-top"},ft={class:"product-rating custom-rate"},yt={class:"review"},vt={key:0,class:"product-contain"},_t=["innerHTML"],ht={class:"product-package"},gt={class:"note-box product-package"},Ct={class:"cart_qty qty-box product-qty"},xt={class:"input-group"},Nt=["value"],$t={class:"wishlist-btn-group"},wt={class:"dynamic-checkout"},Wt={__name:"index",props:{product:{type:Object}},setup(o){let y=o,l=tt();l.allCurrency();let r=v(1),t=v(null);v(null);let G=v(!1);function K(n){t.value=n}dt(()=>it({product:y.product}));function g(n){1>r.value+n||(r.value=r.value+n,Q())}function Q(){var n,s;t.value?t.value.stock_status=((n=t==null?void 0:t.value)==null?void 0:n.quantity)<r.value?"out_of_stock":"in_stock":y.product.stock_status=((s=y.product)==null?void 0:s.quantity)<r.value?"out_of_stock":"in_stock"}function C(n){var s;Z().addToCartProduct({product:y.product,quantity:r==null?void 0:r.value,variation_id:(s=t==null?void 0:t.value)==null?void 0:s.id,variation:t==null?void 0:t.value}),n&&et().push("/checkout")}return(n,s)=>{var x,N,$,w,q,S,F,T,V,B,D,A,W,I,L,P,R,M,E,H,O,j;const U=ot,X=st,Y=ut,b=nt,m=ct;return d(),_("div",null,[u("h2",lt,c(e(t)?(x=e(t))==null?void 0:x.name:(N=o.product)==null?void 0:N.name),1),u("div",mt,[u("h3",pt,[h(c(e(l).currency.symbol)+" "+c(e(l).convertCurrency(e(t)?Number(($=e(t))==null?void 0:$.sale_price).toFixed(2):Number((w=o.product)==null?void 0:w.sale_price).toFixed(2)))+" ",1),(e(t)?e(t).discount:(q=o.product)!=null&&q.discount)?(d(),_("del",bt,c(e(l).currency.symbol)+" "+c(e(l).convertCurrency(e(t)?Number((S=e(t))==null?void 0:S.price).toFixed(2):Number((F=o.product)==null?void 0:F.price).toFixed(2))),1)):k("",!0),(e(t)?e(t).discount:(T=o.product)!=null&&T.discount)?(d(),_("span",kt,c(e(l).currency.symbol)+" "+c(e(l).convertCurrency(e(t)?Number((V=e(t))==null?void 0:V.discount).toFixed(2):Number((B=o.product)==null?void 0:B.discount).toFixed(2)))+"% "+c("off"),1)):k("",!0)]),u("div",ft,[i(U,{"read-only":!0,ratingValue:((D=o.product)==null?void 0:D.rating_count)||0,"rating-size":"25px"},null,8,["ratingValue"]),u("span",yt,c((A=o.product)==null?void 0:A.reviews_count)+" "+c(n.$t("Review")),1)])]),(W=o.product)!=null&&W.short_description?(d(),_("div",vt,[u("p",{innerHTML:(I=o.product)==null?void 0:I.short_description},null,8,_t)])):k("",!0),u("div",ht,[i(X,{product:o.product,attributes:(L=o.product)==null?void 0:L.attributes,onSelectVariation:s[0]||(s[0]=a=>K(a))},null,8,["product","attributes"])]),(P=o.product)!=null&&P.sale_starts_at&&((R=o.product)!=null&&R.sale_expired_at)?(d(),f(Y,{key:1,startDate:(M=o.product)==null?void 0:M.sale_starts_at,endDate:(E=o.product)==null?void 0:E.sale_expired_at},null,8,["startDate","endDate"])):k("",!0),u("div",gt,[u("div",Ct,[u("div",xt,[i(m,{classes:"btn qty-left-minus",id:"'add-to-cart'+product.id'",onClick:s[1]||(s[1]=a=>g(-1))},{default:p(()=>[i(b,{name:"ri-subtract-fill"})]),_:1}),u("input",{class:"form-control input-number qty-input",type:"text",name:"quantity",value:e(r),readonly:""},null,8,Nt),i(m,{classes:"btn qty-left-minus",id:"'qty-left-minus'+product.id'",onClick:s[2]||(s[2]=a=>g(1))},{default:p(()=>[i(b,{name:"ri-add-line"})]),_:1})])]),u("div",$t,[i(m,{classes:"wishlist-button btn",id:"'wishlist_btn'",onClick:s[3]||(s[3]=a=>e(rt)().ToggleFromWishlist({product:o.product}))},{default:p(()=>[i(b,{name:"ri-heart-line"})]),_:1}),i(m,{classes:"wishlist-button btn",id:"'compare_btn'",onClick:s[4]||(s[4]=a=>e(at)().ToggleFromCompare({product:o.product}))},{default:p(()=>[i(b,{name:"ri-refresh-line"})]),_:1})])]),u("div",wt,[e(t)&&((H=e(t))==null?void 0:H.stock_status)=="in_stock"||((O=o.product)==null?void 0:O.stock_status)=="in_stock"&&((j=o.product)==null?void 0:j.type)==="simple"?(d(),f(m,{key:0,id:"addcartbtnVariation"+o.product.id,classes:"btn btn-md bg-theme scroll-button",onClick:s[5]||(s[5]=a=>(C(),e(Z)().cartToggleValue(!0)))},{default:p(()=>[i(b,{name:"ri-shopping-cart-line"}),h(" "+c(n.$t("Add to Cart")),1)]),_:1},8,["id"])):(d(),f(m,{key:1,classes:"btn btn-md bg-theme scroll-button disabled",id:"soldoutbtnproductcontain",disabled:!0},{default:p(()=>{var a,z,J;return[((a=e(t))==null?void 0:a.stock_status)=="in_stock"?(d(),f(b,{key:0,class:"ri-shopping-cart-line me-1"})):k("",!0),h(" "+c(((z=e(t))==null?void 0:z.stock_status)=="out_of_stock"||((J=o.product)==null?void 0:J.stock_status)=="out_of_stock"?n.$t("Sold Out"):n.$t("Add to Cart")),1)]}),_:1})),e(G)?k("",!0):(d(),f(m,{key:2,classes:"btn btn-md border-theme-color",id:"buynowbtn"+o.product.id,disabled:!(e(t)&&e(t).stock_status=="in_stock"||o.product.stock_status=="in_stock"&&o.product.type&&o.product.type==="simple"),onClick:s[6]||(s[6]=a=>(e(t)&&e(t).stock_status=="in_stock"||o.product.stock_status=="in_stock"&&o.product.type&&o.product.type==="simple")&&C(!0))},{default:p(()=>[h(c("Buy Now"))]),_:1},8,["id","disabled"]))])])}}};export{Wt as default};
