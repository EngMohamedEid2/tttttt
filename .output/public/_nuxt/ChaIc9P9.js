import{z as it,e as at,y as nt,J as rt}from"./DtU04-4_.js";import{a as ct,I as lt,u as e,M as r,N as l,V as t,a9 as a,R as p,L as h,Z as X,J as dt,X as ut,a7 as _,$ as g,ac as Y,Y as Z,a4 as _t,a3 as mt}from"./DzwC5H-t.js";import{s as pt}from"./D0hdogbq.js";import{u as G}from"./D_Lc5yow.js";import{u as K}from"./Bzh2dQtW.js";const ht=it("/images/svg/circle.svg"),gt={class:"product-title product-warning"},vt={class:"product-box-4 product-box-3 rounded-0"},ft={key:0,class:"deal-box"},yt={class:"circle-box"},bt={class:"shape-circle"},xt=t("img",{src:ht,alt:"circle"},null,-1),kt={class:"shape-text"},wt={class:"top-selling-slider product-arrow"},Tt={key:0},Ct={class:"product-image"},jt={href:"javascript:void(0)"},St=["src","alt"],$t={class:"option"},Mt={"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Quick View"},Nt={"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Wishlist"},Vt={"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Compare"},zt={class:"product-detail text-center"},It={class:"product-rating justify-content-center"},Ft={href:"javascript:void(0)"},Bt={class:"name w-100 mx-auto text-center"},Et={class:"price theme-color d-flex justify-content-center"},Rt={class:"delete-price"},Dt={class:"progress custom-progressbar"},Lt={class:"text-content"},Wt=t("span",{class:"ms-auto text-content"},a("Hurry up offer end in"),-1),qt={key:0,class:"timer timer-2 ms-0 my-4",id:"clockdiv-1"},At={class:"d-flex justify-content-center"},Jt={class:"counter"},Ot={class:"days"},Pt={class:"counter"},Ut={class:"hours"},Ht={class:"counter"},Qt={class:"minutes"},Xt={class:"counter"},Yt={class:"seconds"},Zt={key:1},Gt={class:"mt-3"},ae={__name:"index",props:{data:Object,Products:Object},setup(d){let m=d,s=ct([]);function tt(){for(let o of s.value){const i=new Date(o.end_date).getTime(),n=new Date().getTime(),c=i-n;c>0&&(o.remainingTime=v(c),pt(()=>{o.remainingTime=v(i-new Date().getTime())},1e3))}}function v(o){const i=Math.floor(o/864e5),n=Math.floor(o%(1e3*60*60*24)/(1e3*60*60)),c=Math.floor(o%(1e3*60*60)/(1e3*60)),u=Math.floor(o%(1e3*60)/1e3);return{days:i,hours:n,minutes:c,seconds:u}}return lt(async()=>{var i;const o=((i=m==null?void 0:m.data)==null?void 0:i.deals)||[];o.forEach(n=>{var c;n.product=(c=m.Products)==null?void 0:c.data.find(u=>u.id===n.product_id)}),s.value=o,tt()}),(o,i)=>{var f,y,b,x;const n=nt,c=rt,u=_t,et=mt;return e(s).length?(r(),l("div",{key:0,class:"product-bg-image wow fadeInUp",style:Z({"background-image":"url("+((f=d.data)==null?void 0:f.image_url)+")"})},[t("div",gt,[t("h2",null,a((y=d.data)==null?void 0:y.title),1)]),t("div",vt,[(b=d.data)!=null&&b.label?(r(),l("div",ft,[t("div",yt,[t("div",bt,[xt,t("div",kt,[t("h6",null,a((x=d.data)==null?void 0:x.label),1)])])])])):p("",!0),t("div",wt,[h(et,{loop:!0,class:"banner-slider","slides-per-view":1,"space-between":15},{default:X(()=>[(r(!0),l(dt,null,ut(e(s).length,(Kt,st)=>(r(),_(u,{key:`product${st}`},{default:X(()=>{var k,w,T,C,j,S,$,M,N,V,z,I,F,B,E,R,D,L,W,q,A,J,O,P,U,H,Q;return[(k=e(s)[2])!=null&&k.status?(r(),l("div",Tt,[t("div",Ct,[t("a",jt,[t("img",{src:(C=(T=(w=e(s)[2])==null?void 0:w.product)==null?void 0:T.product_thumbnail)==null?void 0:C.original_url,class:"img-fluid product-image",alt:(S=(j=e(s)[2])==null?void 0:j.product)==null?void 0:S.name},null,8,St)]),t("ul",$t,[t("li",Mt,[t("a",{href:"javascript:void(0)",onClick:i[0]||(i[0]=g(()=>{e(at)().ToggleModal(e(s)[2])},["prevent"]))},[h(n,{name:"ri:eye-line"})])]),t("li",Nt,[t("a",{href:"javascript:void(0)",class:"notifi-wishlist",onClick:i[1]||(i[1]=g(ot=>e(K)().ToggleFromWishlist(e(s)[2]),["prevent"]))},[e(K)().ExistsInCart(e(s)[2])?(r(),_(n,{key:0,name:"ri:heart-line",size:"20"})):(r(),_(n,{key:1,name:"ri:heart-line",size:"20"}))])]),t("li",Vt,[t("a",{href:"javascript:void(0)",onClick:i[2]||(i[2]=g(ot=>e(G)().ToggleFromCompare(e(s)[2]),["prevent"]))},[e(G)().ExistsInCompare(e(s)[2])?(r(),_(n,{key:0,name:"ri:refresh-line",size:"20"})):(r(),_(n,{key:1,name:"ri:refresh-line",size:"20"}))])])])]),t("div",zt,[t("ul",It,[h(c,{"read-only":!0,ratingValue:(($=e(s)[2])==null?void 0:$.product.rating_count)||0,"rating-size":"25px"},null,8,["ratingValue"])]),t("a",Ft,[t("h3",Bt,a((N=(M=e(s)[2])==null?void 0:M.product)==null?void 0:N.name),1)]),t("h3",Et,[Y(" $ "+a(Number((z=(V=e(s)[2])==null?void 0:V.product)==null?void 0:z.sale_price).toFixed(2)),1),t("del",Rt,"$ "+a(Number((F=(I=e(s)[2])==null?void 0:I.product)==null?void 0:F.price).toFixed(2)),1)]),t("div",Dt,[t("div",{class:"progress-bar",style:Z({width:((E=(B=e(s)[2])==null?void 0:B.product)==null?void 0:E.quantity)*100/10+"%"}),role:"progressbar"},null,4)]),t("h5",Lt,[Y(a(o.$t("Sold"))+" : ",1),t("span",null,a((D=(R=e(s)[2])==null?void 0:R.product)==null?void 0:D.quantity)+" "+a(o.$t("items")),1),Wt]),!((L=e(s)[2].remainingTime)!=null&&L.seconds)>=0?(r(),l("div",qt,[t("ul",At,[t("li",null,[t("div",Jt,[t("div",Ot,[t("h6",null,a((q=(W=e(s)[2])==null?void 0:W.remainingTime)==null?void 0:q.days),1)])])]),t("li",null,[t("div",Pt,[t("div",Ut,[t("h6",null,a((J=(A=e(s)[2])==null?void 0:A.remainingTime)==null?void 0:J.hours),1)])])]),t("li",null,[t("div",Ht,[t("div",Qt,[t("h6",null,a((P=(O=e(s)[2])==null?void 0:O.remainingTime)==null?void 0:P.minutes),1)])])]),t("li",null,[t("div",Xt,[t("div",Yt,[t("h6",null,a((H=(U=e(s)[2])==null?void 0:U.remainingTime)==null?void 0:H.seconds),1)])])])])])):(r(),l("div",Zt,[t("h2",Gt,a(((Q=e(s)[2].remainingTime)==null?void 0:Q.seconds)<0?"offer_closed":""),1)]))])])):p("",!0)]}),_:2},1024))),128))]),_:1})])])],4)):p("",!0)}}};export{ae as default};
