import{E as st,s as H,d as nt,e as y,y as rt}from"./DtU04-4_.js";import lt from"./GifxIkZ0.js";import{_ as it}from"./UTXkSK51.js";import ct from"./B1Yge0Ml.js";import ut from"./LxH7S5zr.js";import{a as b,b as dt,I as pt,M as r,N as i,a7 as M,Z as g,L as c,u as e,ac as f,a9 as s,R as u,V as a,W as x,Y as _t,J as K,X as tt}from"./DzwC5H-t.js";const vt={key:0,class:"position-absolute top-0 start-100 translate-middle badge"},gt=a("span",{class:"visually-hidden"},s("Unread Messages"),-1),ht={key:0,class:"badge-number badge-light"},bt={class:"cart-title"},yt={key:0,class:"pere-text-box success-box"},ft={key:0},Ct={class:"shipping"},kt={class:"shipping"},$t={key:1},Tt={class:"shipping"},wt={class:"progress",role:"progressbar"},mt={class:"progress-icon"},xt={key:1,class:"cart-list"},St={class:"drop-cart"},qt={href:"javascript:void(0)",class:"drop-image"},Vt=["src","alt"],Mt={class:"drop-contain"},Ot={href:"javascript:void(0)"},Ft={key:0,class:"gram"},Nt={class:"cart_qty qty-box product-qty"},jt={class:"input-group h-100"},It=["value"],Bt={class:"header-button-group"},Et={key:2,class:"empty-cart-box"},Rt=a("i",{class:"ri-shopping-cart-line"},null,-1),Wt={key:3,class:"bottom-box"},zt={class:"free"},At={class:"price-box"},Dt={class:"fw-bold"},Lt={class:"button-group"},Zt={__name:"index",props:{style:{type:[String,Object],default:"basic"}},setup(F){let _=st();_.allCurrency();let{Settings:N,ThemeOptions:et}=H(nt()),{cart:d,CartTotal:C}=H(y()),p=y(),k=b("cart_sidebar"),$=b(0);b(0);let h=b(0),T=b(0),at=Array.from({length:150},(n,o)=>o),j=b({}),S=b(!1);function O(n){S.value==!1?(S.value=!0,j.value=n):S.value=!1}function I(n){p.cartToggle=n}return dt(C,()=>{var o,l;const n=N.value;$.value=(l=(o=n==null?void 0:n.values)==null?void 0:o.general)==null?void 0:l.min_order_free_shipping,h.value=C.value*100/$.value,h.value>100?(h.value=100,T.value==0&&(T.value=1,setTimeout(()=>{T.value=2},4500))):T.value=0}),pt(n=>{var l,v,w,q;k.value=(v=(l=et.value.options)==null?void 0:l.general)==null?void 0:v.cart_style;const o=N.value;$.value=(q=(w=o==null?void 0:o.values)==null?void 0:w.general)==null?void 0:q.min_order_free_shipping}),(n,o)=>{var B,E,R,W,z,A;const l=rt,v=lt,w=it,q=ct,ot=ut;return r(),i("div",null,[F.style=="basic"?(r(),M(v,{key:0,type:"button",classes:"btn p-0 position-relative header-wishlist",id:"cart_sidebar_btn",onClick:o[0]||(o[0]=t=>e(k)=="cart_sidebar"&&e(p).cartToggleValue(!0))},{default:g(()=>{var t,m;return[c(l,{name:"ri-shopping-cart-line"}),(t=e(d))!=null&&t.length?(r(),i("span",vt,[f(s((m=e(d))==null?void 0:m.length)+" ",1),gt])):u("",!0)]}),_:1})):u("",!0),F.style=="classic"?(r(),i("a",{key:1,href:"javascript:void(0)",class:"header-icon swap-icon",onClick:o[1]||(o[1]=t=>e(k)=="cart_sidebar"&&I(!0))},[(B=e(d))!=null&&B.length?(r(),i("small",ht,s((E=e(d))==null?void 0:E.length),1)):u("",!0),c(l,{name:"ri-shopping-cart-line"})])):u("",!0),a("div",{class:x(["onhover-div",{"fixed-cart":e(k)=="cart_sidebar",show:e(p).cartToggle}])},[a("div",bt,[a("h4",null,s(n.$t("Shopping Cart")),1),a("a",{href:"javascript:void(0)",onClick:o[2]||(o[2]=t=>e(p).cartToggleValue(!1))},[c(l,{name:"ri-close-line"})])]),(R=e(d))!=null&&R.length?(r(),i("div",yt,[e($)>e(C)?(r(),i("p",ft,[f(s("Spend")+" "),a("span",Ct,s(e(_).currency.symbol)+" "+s(Number(e(_).convertCurrency(e($)-e(C))).toFixed(2)),1),f(" "+s("More and Enjoy")+" "),a("span",kt,s(n.$t("Free Shipping"))+"!",1)])):(r(),i("p",$t,[a("span",Tt,s(n.$t("Congratulations"))+"!",1),f(" "+s(n.$t("Enjoy free shipping on us"))+"!",1)])),a("div",wt,[a("div",{class:x(["progress-bar progress-bar-striped progress-bar-animated",{"danger-progress":e(h)<=30,"warning-progress":e(h)>=31&&e(h)<=80}]),style:_t({width:e(h)+"%"})},[a("div",mt,[c(l,{name:"ri:truck-line"})])],6)])])):u("",!0),(W=e(d))!=null&&W.length?(r(),i("ul",xt,[(r(!0),i(K,null,tt(e(d),t=>{var m,D,L,P,Q,Y,J,U,X,Z,G;return r(),i("li",{class:"product-box-contain",key:t},[a("div",St,[a("a",qt,[a("img",{src:t!=null&&t.variation&&((m=t==null?void 0:t.variation)!=null&&m.variation_image)?(L=(D=t==null?void 0:t.variation)==null?void 0:D.variation_image)==null?void 0:L.original_url:(P=t==null?void 0:t.product)!=null&&P.product_thumbnail?(Y=(Q=t==null?void 0:t.product)==null?void 0:Q.product_thumbnail)==null?void 0:Y.original_url:"/images/product.png",class:"img-fluid",alt:(J=t==null?void 0:t.product)==null?void 0:J.name},null,8,Vt)]),a("div",Mt,[a("a",Ot,[a("h5",null,s(t!=null&&t.variation?(U=t==null?void 0:t.variation)==null?void 0:U.name:(X=t==null?void 0:t.product)==null?void 0:X.name),1)]),a("h6",null,s(e(_).currency.symbol)+" "+s(t!=null&&t.variation?Number(e(_).convertCurrency(t.variation.sale_price)).toFixed(2):Number(e(_).convertCurrency(t.product.sale_price)).toFixed(2)),1),t!=null&&t.variation?(r(),i("h5",Ft,[a("pre",null,s((G=(Z=t==null?void 0:t.variation)==null?void 0:Z.attribute_values[0])==null?void 0:G.value),1)])):u("",!0),a("div",Nt,[a("div",jt,[c(v,{classes:"btn qty-left-minus",id:"add-to-cart"+t.product.id,onOnClick:V=>e(y)().ChangeQuantity({CartItem:t,quantity:-1})},{default:g(()=>[t.quantity>1?(r(),M(l,{key:0,name:"ri-subtract-line"})):u("",!0),t.quantity<=1?(r(),M(l,{key:1,name:"ri-delete-bin-line",onClick:V=>e(y)().RemoveFromCart({CartItem:t})},null,8,["onClick"])):u("",!0)]),_:2},1032,["id","onOnClick"]),a("input",{class:"form-control input-number qty-input",type:"number",name:"quantity",value:t==null?void 0:t.quantity,readonly:""},null,8,It),c(v,{classes:"btn qty-left-minus",id:"qty-left-minus"+t.product.id,onOnClick:V=>e(y)().ChangeQuantity({CartItem:t})},{default:g(()=>[c(l,{name:"ri-add-line"})]),_:2},1032,["id","onOnClick"])])]),a("div",null,[a("div",Bt,[t!=null&&t.variation?(r(),M(v,{key:0,classes:"edit-button close_button",id:"cart_item_edit_btn"+t.product.id,onOnClick:V=>O(t)},{default:g(()=>[c(l,{name:"ri-pencil-line"})]),_:2},1032,["id","onOnClick"])):u("",!0),c(v,{classes:"delete-button close_button",id:"cart_item_delete_btn"+t.product.id,onOnClick:V=>e(y)().RemoveFromCart({CartItem:t})},{default:g(()=>[c(l,{name:"ri-delete-bin-line"})]),_:2},1032,["id","onOnClick"])])])])])])}),128))])):u("",!0),(z=e(d))!=null&&z.length?u("",!0):(r(),i("div",Et,[Rt,a("h5",null,s(n.$t("Your cart is currently empty")),1)])),(A=e(d))!=null&&A.length?(r(),i("div",Wt,[a("p",zt,s(n.$t("Shipping and taxes are calculated at checkout")),1),a("div",At,[a("h5",null,s(n.$t("Total"))+":",1),a("h4",Dt,s(e(_).currency.symbol)+" "+s(Number(e(_).convertCurrency(e(C))).toFixed(2)),1)]),a("div",Lt,[c(w,{to:"/cart",class:"btn btn-sm cart-button",onClick:o[3]||(o[3]=t=>e(p).cartToggleValue(!1))},{default:g(()=>[f(s(n.$t("View Cart")),1)]),_:1}),c(w,{to:"/checkout",class:"btn btn-sm cart-button theme-bg-color text-white",onClick:o[4]||(o[4]=t=>I(!1))},{default:g(()=>[f(s(n.$t("Checkout")),1)]),_:1})])])):u("",!0)],2),a("div",{class:x(["bg-overlay",{show:e(p).cartToggle&&e(p).cartToggle}]),onClick:o[5]||(o[5]=t=>e(k)=="cart_sidebar"&&e(p).cartToggleValue(!1))},null,2),a("div",{class:x(["confetti-wrapper",{show:e(T)==1&&e(p).cartToggle}])},[(r(!0),i(K,null,tt(e(at),t=>(r(),i("div",{key:t},[a("div",{class:x(`confetti-${t}`)},null,2)]))),128))],2),c(ot,{showModal:e(S),onClose:o[7]||(o[7]=t=>O(n.item)),modalClass:"variation-modal"},{default:g(()=>[c(q,{product:e(j),onClose:o[6]||(o[6]=t=>O(n.item))},null,8,["product"])]),_:1},8,["showModal"])])}}};export{Zt as default};
