import{h as k,B as x,G as N,d as S,y as B,J as O}from"./DtU04-4_.js";import j from"./GifxIkZ0.js";import{a as m,M as f,N as h,V as t,a9 as o,u as l,L as n,Z as _,R as U,S as D,an as G,C as W,ac as w}from"./DzwC5H-t.js";const E={class:"modal-header"},F={class:"fw-semibold"},L={class:"modal-body"},M={class:"product-review-form"},T={class:"product-wrapper"},q={class:"product-image"},H=["src","alt"],I={class:"product-content"},J={class:"name"},P={class:"product-review-rating"},Z={class:"product-rating"},z={key:0,class:"rating-number"},A={class:"review-box"},K={class:"product-review-rating"},Q={class:"product-rating"},X={class:"invalid-feedback"},Y={class:"review-box"},tt={class:"form-label",for:"content"},et={class:"modal-footer"},nt={__name:"index",props:{product:Object,reviews:Object},emits:["close"],setup(i,{emit:R}){var g,v;let r=i,V=R,c=m((g=r.product)==null?void 0:g.rating_count),p=m(0),a=m((v=r.reviews[0])==null?void 0:v.description);function y(e){p.value=e}async function C(){await k("/review/"+r.reviews[0].id,{baseURL:x,method:"put",headers:N(),body:{rating:p.value,review_image_id:null,description:a.value}},"$Uy8jg6n7j3"),S().GetSingleProduct()}return(e,s)=>{const $=B,u=j,b=O;return f(),h("div",null,[t("div",E,[t("h3",F,o(l(c)?"Edit a Review":"Write a Review"),1),n(u,{classes:"btn btn-close",id:"profile_modal_close_btn",onOnClick:s[0]||(s[0]=()=>{l(V)("close")})},{default:_(()=>[n($,{name:"ri-close-line"})]),_:1})]),t("div",L,[t("form",M,[t("div",T,[t("div",q,[t("img",{src:i.product.product_thumbnail?i.product.product_thumbnail.original_url:"/images/product.png",class:"img-fluid",alt:i.product.name},null,8,H)]),t("div",I,[t("h5",J,o(i.product.name),1),t("div",P,[t("label",null,o(e.$t("Rating")),1),t("div",Z,[n(b,{"read-only":!1,ratingValue:l(c)||0},null,8,["ratingValue"]),i.product.rating_count?(f(),h("h6",z,"( "+o(i.product.rating_count.toFixed(2)||0)+")",1)):U("",!0)])])])]),t("div",A,[t("div",K,[t("label",null,o(e.$t("Rating")),1),t("div",Q,[n(b,{"read-only":!1,ratingValue:l(c)||0,onRatingSelected:y},null,8,["ratingValue"])]),t("div",X,o(e.$t("Rating is required")),1)])]),t("div",Y,[t("label",tt,o(e.$t("Review Content")),1),D(t("textarea",{placeholder:"Write Something...",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=d=>W(a)?a.value=d:a=d),formControlName:"description",rows:"3"},null,512),[[G,l(a)]])])]),t("div",et,[n(u,{classes:"btn btn-theme-outline btn-md fw-bold",type:"button",id:"cancel_profile_btn",onOnClick:s[2]||(s[2]=d=>e.modal.dismiss("Cancel"))},{default:_(()=>[w(o(e.$t("Cancel")),1)]),_:1}),n(u,{classes:"btn theme-bg-color btn-md fw-bold text-light",id:"submit_profile_btn",onOnClick:s[3]||(s[3]=d=>C())},{default:_(()=>[w(o(e.$t("Submit")),1)]),_:1})])])])}}};export{nt as default};
