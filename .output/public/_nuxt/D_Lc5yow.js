import{A as y,h as p,B as n,G as d,t as o,g}from"./DtU04-4_.js";import{a as v}from"./DzwC5H-t.js";const $=y("compare-store",()=>{var t=v([]);const i=async({product:e})=>{JSON.parse(localStorage.getItem("usersAccount"))&&(await p("compare",{baseURL:n,method:"post",headers:d(),key:"AddItemToCompare",body:{product_id:e.id},onResponse({response:s,error:m}){m?o().$useToaster({msg:m.message,type:"error"}):o().$useToaster({msg:"Item Added To Compare"})}},"$L0BXq1cWH6"),await r())},r=async()=>{var e;if(g("uat").value){let{data:a,error:s}=await p("compare",{baseURL:n,headers:d(),method:"get",key:"GetAllcompareItemsInStore"},"$EUvKAuO8tl");s.value||(t.value=((e=a.value)==null?void 0:e.data)||[])}},u=async({product:e})=>{if(g("uat").value){let{data:a,error:s}=await p(`compare/${e.id}`,{baseURL:n,headers:d(),method:"delete",key:`DeleteItemFromcompare${e.id}`,onResponse({response:m,error:l}){l?o().$useToaster({msg:l.message,type:"error"}):o().$useToaster({msg:"Item Removed From compare",type:"warning"})}},"$9FZRX78egb");s.value||await r()}},f=async()=>{await r()},c=({product:e})=>t.value.findIndex(a=>a.id==e.id)>-1;return{compare:t,AddToCompare:i,RemoveFromCompare:u,ExistsInCompare:c,ToggleFromCompare:async({product:e})=>{c({product:e})?u({product:e}):i({product:e})},GetCompare:f}});export{$ as u};
