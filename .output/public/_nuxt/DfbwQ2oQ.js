import Q from"./ZKPrUHKq.js";import X from"./GifxIkZ0.js";import{a as m,u as t,M as r,N as u,V as e,L as j,R as i,a9 as o,S as f,ap as z,W as k,an as tt,C as et,Z as F,ac as h,a7 as ot,$ as lt}from"./DzwC5H-t.js";import{z as st,s as b,e as at,F as n,E as nt,b as rt}from"./DtU04-4_.js";import"./DxrnN-TT.js";const it=st("/images/offer.gif"),ut={key:0},ct={class:"custom-box-loader"},dt={key:0,class:"box-loader"},pt={class:"summary-total"},_t={class:"price"},ht={class:"price"},mt={class:"price"},ft={key:0},kt={class:"price"},bt={key:1,class:"border-cls"},Ct=e("label",{class:"form-check-label m-0",for:"ponts"},o("Would you prefer to pay using points?"),-1),vt={key:2},yt={class:"price"},gt={key:3,class:"border-cls"},$t=e("label",{class:"form-check-label m-0",for:"wallet"},o("Would you prefer to pay using wallet?"),-1),wt={key:4,class:"coupon-sec"},St=e("h4",null,o("Have a promo code?"),-1),Nt=[St],Vt={key:1,class:"w-100"},Et={class:"coupon-box mt-2 d-flex w-100"},Ut={key:0,class:"invalid-feedback"},Wt={key:2,class:"apply-sec mb-3"},Bt=e("img",{src:it,class:"img-fluid",alt:"offer gif"},null,-1),Dt={class:"list-total"},Rt=e("h4",null,o("Total"),-1),Tt={class:"price"},zt={__name:"CartSummary",setup(Yt){let{cart:H,CartTotal:Mt}=b(at()),{CheckoutInfo:l,loading:Z}=b(n()),p=m(""),_=m(!1);nt().allCurrency();let{User:At,UserInfo:q}=b(rt()),d=m(q);function G(){_.value=n().couponError==null,n().getCouponCode(p.value),n().SetCheckoutInfo()}function J(){_.value=!1,p.value=null,n().getCouponCode(p.value)}return(s,a)=>{var v,y,g,$,w,S,N,V,E,U,W,B,D,R,T,Y,M,x,A,I,L,O,P;const K=Q,C=X;return(v=t(H))!=null&&v.length?(r(),u("div",ut,[e("form",null,[e("div",ct,[t(Z)?(r(),u("div",dt,[j(K,{loaderClass:"custom-loader-wrapper blur-bg"})])):i("",!0),e("ul",pt,[e("li",null,[e("h4",null,o(s.$t("Subtotal")),1),e("h4",_t,o(t(l)?(g=(y=t(l))==null?void 0:y.total)==null?void 0:g.sub_total:s.$t("Not Calculated Yet")),1)]),e("li",null,[e("h4",null,o(s.$t("Shipping")),1),e("h4",ht,o(t(l)?(w=($=t(l))==null?void 0:$.total)==null?void 0:w.shipping_total:s.$t("Not Calculated Yet")),1)]),e("li",null,[e("h4",null,o(s.$t("Tax")),1),e("h4",mt,o(t(l)?(N=(S=t(l))==null?void 0:S.total)==null?void 0:N.tax_total:s.$t("Not Calculated Yet")),1)]),t(d)&&t(l)&&((E=(V=t(d))==null?void 0:V.point)!=null&&E.balance)?(r(),u("li",ft,[e("h4",null,o(s.$t("Points")),1),e("h4",kt,o(t(l)?(W=(U=t(l))==null?void 0:U.total)==null?void 0:W.convert_point_amount:s.$t("Not Calculated Yet")),1)])):i("",!0),t(d)&&t(l)&&((D=(B=t(d))==null?void 0:B.point)!=null&&D.balance)?(r(),u("li",bt,[Ct,f(e("input",{class:"checkbox_animated check-it","onUpdate:modelValue":a[0]||(a[0]=c=>t(n)().CheckoutData.points_amount=c),type:"checkbox",id:"ponts"},null,512),[[z,t(n)().CheckoutData.points_amount]])])):i("",!0),t(d)&&t(l)&&((T=(R=t(d))==null?void 0:R.wallet)!=null&&T.balance)?(r(),u("li",vt,[e("h4",null,o(s.$t("Wallet Balance")),1),e("h4",yt,o(t(l)?(M=(Y=t(l))==null?void 0:Y.total)==null?void 0:M.convert_wallet_balance:"not_calculated_yet"),1)])):i("",!0),t(d)&&t(l)&&((A=(x=t(d))==null?void 0:x.wallet)!=null&&A.balance)?(r(),u("li",gt,[$t,f(e("input",{class:"checkbox_animated check-it",type:"checkbox","onUpdate:modelValue":a[1]||(a[1]=c=>t(n)().CheckoutData.wallet_balance=c),id:"wallet"},null,512),[[z,t(n)().CheckoutData.wallet_balance]])])):i("",!0),t(d)&&t(l)?(r(),u("li",wt,[t(_)?i("",!0):(r(),u("a",{key:0,class:"promocode-title",onClick:a[2]||(a[2]=c=>s.showCoupon())},Nt)),t(_)?i("",!0):(r(),u("div",Vt,[e("div",Et,[e("div",{class:k(["input-group",{"coupon-error":t(n)().couponError}])},[f(e("input",{type:"text",class:k(["form-control",{"is-invalid":t(n)().couponError}]),"onUpdate:modelValue":a[3]||(a[3]=c=>et(p)?p.value=c:p=c),id:"coupon"},null,2),[[tt,t(p)]]),j(C,{classes:"btn-apply",type:"button",id:"coupon_apply",onClick:a[4]||(a[4]=c=>t(p).length&&G())},{default:F(()=>[h(o(s.$t("Apply")),1)]),_:1}),t(n)().couponError?(r(),u("div",Ut,o(t(n)().couponError),1)):i("",!0)],2)])])),t(_)?(r(),u("div",Wt,[e("div",null,[Bt,e("h4",null,[h(o(s.$t("You Saved"))+" ",1),e("span",null,o((L=(I=t(l))==null?void 0:I.total)==null?void 0:L.coupon_total_discount),1),h(" "+o(s.$t("With this code"))+" ðŸŽ‰ ",1),e("p",null,o(s.$t("Coupon Applied")),1)])]),e("a",{href:"javascript:void(0)",onClick:a[5]||(a[5]=c=>J())},o(s.$t("Remove")),1)])):i("",!0)])):i("",!0),e("li",Dt,[Rt,e("h4",Tt,o(t(l)?(P=(O=t(l))==null?void 0:O.total)==null?void 0:P.total:s.$t("Not Calculated Yet")),1)])]),Object.keys(t(l)).length?(r(),ot(C,{key:1,class:k("btn theme-bg-color text-white btn-md w-100 mt-4 fw-bold"),id:"place_order",onClick:a[6]||(a[6]=lt(c=>t(n)().PlaceOrder(),["prevent"]))},{default:F(()=>[h(o(s.$t("Place Order")),1)]),_:1})):i("",!0)])])])):i("",!0)}}};export{zt as default};
