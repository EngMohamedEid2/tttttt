import{a as y,b as p,M as i,N as r,L as O,Z as T,V as n,S as j,C as g,u as o,$ as S,an as M,J as F,X as A,W as E,a9 as w,ac as I,R as k}from"./DzwC5H-t.js";import{_ as P,i as W,O as $,C as z}from"./DtU04-4_.js";const J={class:"custom-select-box"},U=["placeholder"],X={key:0,class:"box-content"},Z={key:0,class:"custom-scroll"},q=["onClick"],G={class:"country d-flex align-items-center justify-content-start gap-2"},H={class:"flag-box"},Q={class:"dial-code"},Y={key:1},ee={key:0},le={key:0,class:"error-message"},te={key:1,class:"help-text"},ae={__name:"SearchDropdown",props:{displayValue:String,modelValue:Object,options:Array,formSubmitted:Boolean,initialData:{type:[Object,Boolean],default:!1},placeholder:{default:"Select",type:String},NewRecordLink:{type:String},disableClearButton:Boolean,displayKey:{default:"name",type:String},getValueKey:String,selectFirst:[Boolean,Number,String],checkValidation:{type:Boolean,default:!0},errormessage:String,helptext:String,holdKey:Boolean},emits:["update:modelValue","vendersearch"],setup(d,{expose:D,emit:B}){var C,N;let e=d,v=B,c=y(""),u=y(!1),V=y([]),s=y(""),m=y(!1),b=e.modelValue;b.type="dropdown",v("update:modelValue",b),!e.initialData&&e.selectFirst&&((C=e==null?void 0:e.options)!=null&&C.length)&&f(e==null?void 0:e.options[0]);function f(l){m.value=!0,c.value=l[e.displayKey];let t=e.modelValue;t.data=e.getValueKey?l[e.getValueKey]:l,t.errorMessage=m.value?0:"Please Select An Option",t.selected=l,s.value=c.value,u.value=!1,v("update:modelValue",t)}let x=e.modelValue.selected;x&&f(x),e.initialData&&f(e.initialData),(N=e.modelValue)!=null&&N.data&&(m.value=!0),V.value=e.options||[];const R=()=>{let l=e.modelValue;e.formSubmitted&&!m.value?l.errorMessage="Please Select An Option":l.errorMessage=!1,v("update:modelValue",l)},K=()=>{c.value="",s.value="",m.value=!1,v("update:modelValue",{})},L=z(l=>{let t=e.modelValue;t.search=l,v("update:modelValue",t)},500,{maxWait:2e3});return p(()=>{var l;return(l=e.modelValue)==null?void 0:l.selected},()=>{e.modelValue.selected&&f(e.modelValue.selected)},{deep:!0}),p(()=>[e.formSubmitted,e.modelValue],()=>{R()},{deep:!0}),p(()=>{var l;return(l=e.modelValue)==null?void 0:l.displayValue},()=>{var l,t,a;(l=e.modelValue)!=null&&l.displayValue&&(s.value=(t=e.modelValue)==null?void 0:t.displayValue,c.value=(a=e.modelValue)==null?void 0:a.displayValue)},{deep:!0}),p(()=>e.options,()=>{V.value=e.options},{deep:!0}),p(()=>u,()=>{u.value&&(s.value="")},{deep:!0}),p(()=>s,()=>{var l;V.value=(l=e.options)==null?void 0:l.filter(t=>{var a,h;return(h=t[e.displayKey])==null?void 0:h.toLowerCase().includes((a=s.value)==null?void 0:a.toLowerCase())})},{deep:!0}),D({ClearInput:K}),(l,t)=>(i(),r("div",null,[O(o($),{class:"btn-group",onTrigger:t[4]||(t[4]=()=>{g(u)?u.value=!1:u=!1,g(s)?s.value=o(c):s=o(c)})},{default:T(()=>[n("div",J,[j(n("input",{type:"text",placeholder:d.placeholder,"onUpdate:modelValue":t[0]||(t[0]=a=>g(s)?s.value=a:s=a),onInput:t[1]||(t[1]=a=>o(L)(a.target.value)),onClick:t[2]||(t[2]=S(a=>g(u)?u.value=!o(u):u=!o(u),["prevent"])),class:"form-control form-select"},null,40,U),[[M,o(s)]]),o(u)?(i(),r("div",X,[o(V).length?(i(),r("ul",Z,[(i(!0),r(F,null,A(o(V),(a,h)=>{var _;return i(),r("li",{onClick:S(se=>f(a),["prevent"]),key:h,class:"w-100"},[n("div",G,[n("div",H,[n("div",{class:E(["iti-flag",(_=a==null?void 0:a.data)==null?void 0:_.class])},null,2)]),n("span",Q,w(a[o(e).displayKey]),1)])],8,q)}),128))])):(i(),r("ul",Y,[n("li",null,[n("a",{href:"javascript:void(0)",onClick:t[3]||(t[3]=S(()=>d.NewRecordLink&&("useRouter"in l?l.useRouter:o(W))().push(d.NewRecordLink),["prevent"]))},[I("No Records Found! "),d.NewRecordLink?(i(),r("span",ee,"click to Add New records")):k("",!0)])])]))])):k("",!0)])]),_:1}),d.formSubmitted&&!o(m)?(i(),r("p",le,w(d.errormessage),1)):k("",!0),d.helptext?(i(),r("p",te,"*"+w(d.helptext),1)):k("",!0)]))}},de=P(ae,[["__scopeId","data-v-c2ec5994"]]);export{de as default};
